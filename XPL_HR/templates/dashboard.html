{% extends 'templates/navs.html' %}
{% block title %} Dashboard {% endblock %}
{% load static %}
{%block content%}

 <!-- Secondary NavBar it will be in every file for secodary file-->
<header class="nav-bar">
    <div class="nav-bar-left">
        <nav class="nav-bar-nav">
            <a href="#" class="navbar-link active" data-tab="option1">Overview</a>
            <a href="#" class="navbar-link" data-tab="option2" onclick="showCalendar()">Calendar</a>
        </nav>
    </div>
</header>
<!-- the secondary nav is till here -->
<div class="header-image">
</div>


<div class="container-fluid active" id="option1-section">
    <div class="row">
        <div class="col">
        
            
            <div class="row">
                <!-- Profile Section -->
                <div class="col-md-3">
                    <div class="profile-card">
                        <div class="text-center">
                            <img src="{{ user.profile_photo.url }}" alt="Profile Picture" class="profile-img">
                            <div class="profile-info">
                                <h6>{{ user.first_name }} {{ user.last_name }}</h6>
                                <p>{{ user.job_title }}</p>
                            </div>
                        </div>
                    </div>

                    <div class="profile-card2">
                        <div class="text-center">
                            <h6>Reporting To</h6>
                            <p><strong>{{ user.reporting_manager.first_name }} {{ user.reporting_manager.last_name }} </strong></p>
                        </div>
                    </div>
                    <div class="profile-card2">
                        <h5>Department Members</h5>
                        <p>Anjum Ali</p>
                    </div>
                </div>

                <!-- Office Location and Other Info Section -->
                <div class="col-md-9">
                    <div class="profile-card3">
                        <ul class="nav profile-tabs">
                            <li class="nav-item">
                                <a class="nav-link2 active" id="profile-tab" data-tab="profile" href="javascript:void(0)">Profile</a>
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link2" id="approvals-tab" data-tab="approvals" href="javascript:void(0)">Approvals</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link2" id="leave-tab" data-tab="leave" href="javascript:void(0)">Leave</a>
                            </li> -->
                            <!-- <li class="nav-item">
                                <a class="nav-link2" id="attendance-tab" data-tab="attendance" href="javascript:void(0)">Attendance</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link2" id="timelogs-tab" data-tab="timelogs" href="javascript:void(0)">Time Logs</a>
                            </li> -->
                        </ul>
                    </div>

                    <!-- Tab Content Sections -->
                    <div class="tab-content">
                        <div class="scroll tab-pane active" id="profile-section">
                            
                            <div class="info-section">
                                <div class="container ">
                                    <div class="row align-items-start">
                                    <div class="col">
                                        <h6>Office Location</h6>
                                        <p>{{ user.work_location }}</p>
                                        <h6>Time Zone</h6>
                                        <p>(GMT+03:00)</p>
                                    </div>
                                    <div class="col">
                                        <h6>Department</h6>
                                        <p>{{ user.department }}</p>
                                        <h6>Email</h6>
                                        <p>{{ user.email }}</p>
                                    </div>
                                    <div class="col">
                                        <h6>Shift</h6>
                                        <p>{{ user.employment_type }}</p>
                                    </div>
                                    </div>
                                </div>
                                    
                            </div>

                            <div class="organization-structure-section ">
                                <h6>Organization Structure</h6>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="d-flex align-items-center">
                                            <span class="icon">&#128100;</span>
                                            <span>Business Unit: {{ user.business_unit }}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="d-flex align-items-center">
                                            <span class="icon">&#128101;</span>
                                            <span>Division: Consulting Services</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="d-flex align-items-center">
                                            <span class="icon">&#128102;</span>
                                            <span>Department: {{ user.department }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="info-section">
                                <h6>Additional Information</h6>
                                <p>Some additional information about the employee...</p>
                                <div class="add-about">
                                    <i class="fas fa-plus-circle"></i>&nbsp; Add About Section
                                </div>
                            </div> -->

                            <div class="info-section">
                                <h6>Work Information</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>Business Unit:</strong> {{ user.business_unit }}</p>
                                        <p><strong>Department:</strong> {{ user.department }}</p>
                                        <p><strong>Rate Basis:</strong> {{ user.rate_basis }}</p>
                                        <p><strong>Onsite Rate:</strong> {{ user.onsite_salary }}</p>
                                        <p><strong>Location:</strong> {{ user.work_location }}</p>
                                        <p><strong>Designation:</strong> {{ user.position}}</p>
                                        <p><strong>Streams:</strong> Consulting - Functional - Business Process</p>
                                        <p><strong>WPS Profile:</strong> {{ user.wps_profile }}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Zoho Role:</strong> Admin</p>
                                        <p><strong>Division:</strong> Consulting Services</p>
                                        <p><strong>Employment Type:</strong> {{ user.employment_type }}</p>
                                        <p><strong>Remote Rate:</strong> {{ user.remote_salary }}</p>
                                        <p><strong>Billing Type:</strong> {{ user.billing_type }}</p>
                                        <p><strong>Employee Status:</strong> {{ user.employee_status }}</p>
                                        <p><strong>Leaves Policy:</strong> {{ user.leave_policy }}</p>
                                        <p><strong>Timesheet Required:</strong> {{ user.timesheet_required }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="info-section">
                                <h6>Hierarchy Information</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>Reporting Manager</strong> {{ user.reporting_manager }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="info-section">
                                <h6>Personal Details</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>Date of Birth</strong> {{ user.dob }}</p>
                                        <p><strong>Age</strong> {{ user.age }}</p>
                                        <p><strong>Gender</strong> Male</p>
                                        <p><strong>Marital Status:</strong> {{ user.marital_status }}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Ask me about/ Expertise</strong>{{ user.skills }} </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-pane" id="approvals-section" style="display: none;">
                            <div class="info-section">
                                <!-- Approvals content goes here -->
                                <p>This is the approvals section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Approvals content goes here -->
                                <p>This is the approvals section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Approvals content goes here -->
                                <p>This is the approvals section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Approvals content goes here -->
                                <p>This is the approvals section content.</p>
                            </div>
                        </div>
                        <div class="tab-pane" id="leave-section" style="display: none;">
                            <div class="info-section">
                                <!-- Leave content goes here -->
                                <p>This is the leave section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Leave content goes here -->
                                <p>This is the leave section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Leave content goes here -->
                                <p>This is the leave section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Leave content goes here -->
                                <p>This is the leave section content.</p>
                            </div>
                        </div>
                        <div class="tab-pane" id="attendance-section" style="display: none;">
                            <div class="info-section">
                                <!-- Attendance content goes here -->
                                <p>This is the attendance section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Attendance content goes here -->
                                <p>This is the attendance section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Attendance content goes here -->
                                <p>This is the attendance section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Attendance content goes here -->
                                <p>This is the attendance section content.</p>
                            </div>
                        </div>
                        <div class="tab-pane" id="timelogs-section" style="display: none;">
                            <div class="info-section">
                                <!-- Time logs content goes here -->
                                <p>This is the time logs section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Time logs content goes here -->
                                <p>This is the time logs section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Time logs content goes here -->
                                <p>This is the time logs section content.</p>
                            </div>
                            <div class="info-section">
                                <!-- Time logs content goes here -->
                                <p>This is the time logs section content.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid" id="option2-section" style="display: none;">
    <div class="containe-fluid mt-5">
        <div class="scrollable-container">
        <div id="calendar" style="text-decoration: none !important;"></div>
    </div>
    </div>
</div>


{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
<script>
    var calendar;

    function showCalendar() {
        // Hide other sections
        document.getElementById('option1-section').style.display = 'none';
        document.getElementById('option2-section').style.display = 'block';

        // Initialize or render calendar if it's not done yet
        if (!calendar) {
            var calendarEl = document.getElementById('calendar');
            calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                nowIndicator: true,
            });
            calendar.render();
        }
    }

    // Optional: Set default tab to show
    document.getElementById('option1-tab').click(); // Adjust if you want to load the calendar first
</script>
{% endblock %}
{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css" rel="stylesheet" />
<style>
    #calendar {
        height: 550px; 
        padding: 20px;
        background-color: #ffffff;
        border-radius: 15px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }
    .fc-daygrid-day a {
    color: inherit; 
    text-decoration: none; 
}

    .fc-toolbar {
        background-color: #0056b3;
        color: #ffffff;
        padding: 10px;
        border-radius: 10px;
    }
    .fc-daygrid-day:hover {
            background-color: #f9f9f9;
            transform: scale(1.03);
        }
    
    .fc-toolbar h2 {
        font-size: 1.8em;
        font-weight: 500;
        color: #ffffff;
    }

    .fc-timegrid-now.fc-timegrid-slot {
        background-color: rgba(255, 255, 0, 0.3); 
    }
    .fc-col-header-cell-cushion {
    color: inherit !important; 
    text-decoration: none !important; 
}
</style>
{% endblock %}
{%endblock%}


