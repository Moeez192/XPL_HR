{%load static%}
<!DOCTYPE html>
<html>
  
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <link href="{% static 'css/home_styles.css' %}" rel="stylesheet">
    <link href="{% static 'css/configure_leaves.css' %}" rel="stylesheet">
    
    <style>
        .dropdown-toggle::after {
            display: none; 
        }
    </style>
    
</head>

<body>
    <!-- this is the main sidebar if you change anything here you will have to change it in the mobile side bar views down too -->
    <div class="col-md-2 sBar">
        <nav class="nav flex-column">
            <img src="{% static 'images/XPLTransparent.png' %}" width = "75px" height="75px">
            <ul>
                <li class="{% if request.path == '/dashboard/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'dashboard' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
                        <span>Home</span>
                    </a>

                </li>
                {% if request.session.role == 'admin' %}

                <li class="{% if request.path == '/employees/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'employees' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M412-168q45-91 120-121.5T660-320q23 0 45 4t43 10q24-38 38-82t14-92q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 45 11.5 86t34.5 76q41-20 85-31t89-11q32 0 61.5 5.5T500-340q-23 12-43.5 28T418-278q-12-2-20.5-2H380q-32 0-63.5 7T256-252q32 32 71.5 53.5T412-168Zm68 88q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80ZM380-420q-58 0-99-41t-41-99q0-58 41-99t99-41q58 0 99 41t41 99q0 58-41 99t-99 41Zm0-80q25 0 42.5-17.5T440-560q0-25-17.5-42.5T380-620q-25 0-42.5 17.5T320-560q0 25 17.5 42.5T380-500Zm280 120q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM480-480Z"/></svg>
                        <span>Employees</span>
                    </a>

                </li>
                {% endif %}
                <li class="{% if request.path == '/leave/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'leave' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M662-60 520-202l56-56 85 85 170-170 56 57L662-60ZM296-280l-56-56 64-64-64-64 56-56 64 64 64-64 56 56-64 64 64 64-56 56-64-64-64 64ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v254l-80 81v-175H200v400h250l79 80H200Zm0-560h560v-80H200v80Zm0 0v-80 80Z"/></svg>
                        <span>Leaves</span>
                    </a>
                
                </li>
                <li class="{% if request.path == '/projects/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'projects' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M120-120v-80l80-80v160h-80Zm160 0v-240l80-80v320h-80Zm160 0v-320l80 81v239h-80Zm160 0v-239l80-80v319h-80Zm160 0v-400l80-80v480h-80ZM120-327v-113l280-280 160 160 280-280v113L560-447 400-607 120-327Z"/></svg>
                        <span>Projects</span>
                    </a>
                </li>

                <!-- other links here -->

                <li class="{% if request.path == '/timesheet/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'timesheet' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M200-640h560v-80H200v80Zm0 0v-80 80Zm0 560q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v227q-19-9-39-15t-41-9v-43H200v400h252q7 22 16.5 42T491-80H200Zm520 40q-83 0-141.5-58.5T520-240q0-83 58.5-141.5T720-440q83 0 141.5 58.5T920-240q0 83-58.5 141.5T720-40Zm67-105 28-28-75-75v-112h-40v128l87 87Z"/></svg>
                        <span>Time Sheet</span>
                    </a>
                
                </li>
                {% if request.session.role == 'admin' %}
<li class="{% if request.path == '/settings/' %} colored  {% else %} {% endif %}">
    <a class="nav-link" href="{% url 'settings' %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#e8eaed" stroke="#e8eaed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>
        <span>Settings</span>
    </a>

</li>
{% endif %}
               

            </ul>                    
        </nav>
    </div>

    <div class="toggle-btn" onclick="toggleTopBar()">☰ Top Bar</div>
    <div class="top-bar-mobile">
        <nav class="top-bar-nav">
            <a href="#" class="active">My Space</a>
            <a href="#">Team</a>
            <a href="#">Organization</a>
        </nav>
    </div>
    

    <!-- the mobile sidebar starts from here -->
    <div class="toggle-btn" onclick="toggleSidebar()">☰ Sidebar</div>
    <div class="sBar-mobile">
        <nav class="nav flex-column">
            <ul>
                <li class="{% if request.path == '/dashboard/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'dashboard' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
                        <span>Home</span>
                    </a>

                </li>

                <li class="{% if request.path == '/employees/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="{% url 'employees' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M412-168q45-91 120-121.5T660-320q23 0 45 4t43 10q24-38 38-82t14-92q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 45 11.5 86t34.5 76q41-20 85-31t89-11q32 0 61.5 5.5T500-340q-23 12-43.5 28T418-278q-12-2-20.5-2H380q-32 0-63.5 7T256-252q32 32 71.5 53.5T412-168Zm68 88q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80ZM380-420q-58 0-99-41t-41-99q0-58 41-99t99-41q58 0 99 41t41 99q0 58-41 99t-99 41Zm0-80q25 0 42.5-17.5T440-560q0-25-17.5-42.5T380-620q-25 0-42.5 17.5T320-560q0 25 17.5 42.5T380-500Zm280 120q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM480-480Z"/></svg>
                        <span>Employees</span>
                    </a>

                </li>
                
                <li class="{% if request.path == '/leave/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M662-60 520-202l56-56 85 85 170-170 56 57L662-60ZM296-280l-56-56 64-64-64-64 56-56 64 64 64-64 56 56-64 64 64 64-56 56-64-64-64 64ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v254l-80 81v-175H200v400h250l79 80H200Zm0-560h560v-80H200v80Zm0 0v-80 80Z"/></svg>
                        <span>Leave Config</span>
                    </a>

                </li>
                <li class="{% if request.path == '/projects/' %} colored {% else %} {% endif %}">
                    <a class="nav-link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M120-120v-80l80-80v160h-80Zm160 0v-240l80-80v320h-80Zm160 0v-320l80 81v239h-80Zm160 0v-239l80-80v319h-80Zm160 0v-400l80-80v480h-80ZM120-327v-113l280-280 160 160 280-280v113L560-447 400-607 120-327Z"/></svg>
                        <span>Projects</span>
                    </a>

                </li>
                <li class="">
                    <a class="nav-link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M120-120v-80l80-80v160h-80Zm160 0v-240l80-80v320h-80Zm160 0v-320l80 81v239h-80Zm160 0v-239l80-80v319h-80Zm160 0v-400l80-80v480h-80ZM120-327v-113l280-280 160 160 280-280v113L560-447 400-607 120-327Z"/></svg>
                        <span>Performance</span>
                    </a>

                </li>

                <li class="">
                    <a class="nav-link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640H447l-80-80H160v480l96-320h684L837-217q-8 26-29.5 41.5T760-160H160Zm84-80h516l72-240H316l-72 240Zm0 0 72-240-72 240Zm-84-400v-80 80Z"/></svg>
                        <span>Files</span>
                    </a>

                </li>
                <li class="">
                    <a class="nav-link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M280-80v-100l120-84v-144L80-280v-120l320-224v-176q0-33 23.5-56.5T480-880q33 0 56.5 23.5T560-800v176l320 224v120L560-408v144l120 84v100l-200-60-200 60Z"/></svg>
                        <span>Travel</span>
                    </a>

                </li>

            </ul>                    
        </nav>
    </div>

    <main>
        <header class="top-bar">
            <div class="top-bar-left">
                <nav class="top-bar-nav">
                    <a href="#" class="active">My Space</a>
                    <a href="#">Team</a>
                    <a href="#">Organization</a>
                </nav>
            </div>
            <div class="top-bar-right">
                <a href="#" class="top-bar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                        <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                    </svg>
                </a>
                <a href="#" class="top-bar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                        <path d="M160-200v-80h80v-280q0-83 50-147.5T420-792v-28q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v28q80 20 130 84.5T720-560v280h80v80H160Zm320-300Zm0 420q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-280h320v-280q0-66-47-113t-113-47q-66 0-113 47t-47 113v280Z"/>
                    </svg>
                </a>
                <div class="dropdown">
                    <a href="#" class="top-bar-icon dropdown-toggle" id="gearDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                            <path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/>
                        </svg>
                    </a>
                    
                    <ul class="dropdown-menu" aria-labelledby="gearDropdown">
                        <li><a class="dropdown-item" href="#">Action 1</a></li>
                        <li><a class="dropdown-item" href="{% url 'edit_employee_self' %}">Edit Profile</a></li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                    </ul>
                </div>
            </div>
        </header>


        {%block content%}


        {%endblock%}
        
    
    </body>
    
    </html>
    <script>
        document.querySelectorAll('.navbar-link').forEach(function(tabLink) {
            tabLink.addEventListener('click', function(e) {
                e.preventDefault();  // Prevent default anchor behavior
                
                // Remove active class from all navbar links
                document.querySelectorAll('.navbar-link').forEach(function(link) {
                    link.classList.remove('active');
                });

                // Hide all content sections
                document.querySelectorAll('.container-fluid').forEach(function(pane) {
                    pane.style.display = 'none';
                });

                // Add active class to clicked tab
                this.classList.add('active');

                // Show the corresponding content section
                var tabId = this.getAttribute('data-tab');
                document.getElementById(tabId + '-section').style.display = 'block';
            });
        });

        document.querySelectorAll('.nav-link2').forEach(function(tabLink) {
            tabLink.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.nav-link2').forEach(function(link) {
                    link.classList.remove('active');
                });

                // Hide all content sections
                document.querySelectorAll('.tab-pane').forEach(function(pane) {
                    pane.style.display = 'none';
                });

                // Add active class to clicked tab
                this.classList.add('active');

                // Show the corresponding content section
                var tabId = this.getAttribute('data-tab');
                document.getElementById(tabId + '-section').style.display = 'block';
            });
        });


       
        
        function toggleSidebar() {
            const sidebar = document.querySelector('.sBar-mobile');
            const topBar = document.querySelector('.top-bar-mobile');
            const navBar = document.querySelector('.nav-bar-mobile');
            
            if (sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            } else {
                sidebar.classList.add('open');
                topBar.classList.remove('open');
                navBar.classList.remove('open');
            }
        }

        function toggleTopBar() {
            const topBar = document.querySelector('.top-bar-mobile');
            const sidebar = document.querySelector('.sBar-mobile');
            const navBar = document.querySelector('.nav-bar-mobile');
            
            if (topBar.classList.contains('open')) {
                topBar.classList.remove('open');
            } else {
                topBar.classList.add('open');
                sidebar.classList.remove('open');
                navBar.classList.remove('open');
            }
        }

        function toggleNavBar() {
            const navBar = document.querySelector('.nav-bar-mobile');
            const sidebar = document.querySelector('.sBar-mobile');
            const topBar = document.querySelector('.top-bar-mobile');
            
            if (navBar.classList.contains('open')) {
                navBar.classList.remove('open');
            } else {
                navBar.classList.add('open');
                sidebar.classList.remove('open');
                topBar.classList.remove('open');
            }
        }

    </script>
